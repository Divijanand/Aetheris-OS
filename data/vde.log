[2026-02-14 10:43:29.281] [vde] [info] Data store configure CACHE_SIZE_MB succeeded
[2026-02-14 10:43:29.282] [vde] [info] Data store configure INI succeeded (/data/datastore.ini)
[2026-02-14 10:43:29.634] [vde] [info] Data store initialization succeeded
[2026-02-14 10:43:29.634] [vde] [info] VDE Engine initializing with work_dir: /data
[2026-02-14 10:43:29.634] [vde] [info] IndexManager and StorageManager created
[2026-02-14 10:43:33.014] [vde] [info] Creating collection 'materials' with index_driver=IndexDriverType::FAISS, storage=StorageType::MEM, dim=3072, config=
[2026-02-14 10:43:33.014] [vde] [info] Creating collection directory: /data/materials
[2026-02-14 10:43:33.014] [vde] [info] Creating VDECollection instance for 'materials'
[2026-02-14 10:43:33.014] [vde] [info] Initializing collection 'materials'...
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] name=materials, index_driver=IndexDriverType::FAISS, storage_type=StorageType::MEM, dimension=3072, normalize=auto
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] Collection data directory: /data/materials
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] Auto-selected L2 normalization for COSINE metric
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] collection='materials', normalize_driver='L2-MKL-Advanced' (L2)
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] Creating index driver: IndexDriverType::FAISS
[2026-02-14 10:43:33.014] [vde] [info] [FaissDriver] Created HNSW index: dim=3072, M=16, ef_construct=200, ef_search=64, own_fields=true
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] Index driver created successfully
[2026-02-14 10:43:33.014] [vde] [info] [VDECollection::Init] Creating storage driver: StorageType::MEM
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::Init] Storage driver created successfully
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::Init] Opening storage driver...
[2026-02-14 10:43:33.015] [vde] [info] [MemDriver::Open] Opening in-memory storage
[2026-02-14 10:43:33.015] [vde] [info] [MemDriver::Open] Data directory: /data/materials (not used for memory storage)
[2026-02-14 10:43:33.015] [vde] [info] [MemDriver::Open] Dimension: 3072
[2026-02-14 10:43:33.015] [vde] [info] [MemDriver::Open] In-memory storage opened successfully
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::Init] Storage driver opened successfully
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::Init] Initialization completed successfully
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::Init] Save Metadata right after creation.
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::SaveMetadata] Saving metadata for collection 'materials' to: /data/materials/metadata.json
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::SaveMetadata] Metadata saved to /data/materials/metadata.json (storage_type=StorageType::MEM, index_driver_type=IndexDriverType::FAISS)
[2026-02-14 10:43:33.015] [vde] [info] [VDECollection::Init] Save Metadata completed.
[2026-02-14 10:43:33.015] [vde] [info] Collection 'materials' created successfully
[2026-02-14 10:44:22.871] [vde] [info] [gRPC Search] === FIRST SEARCH REQUEST ===
[2026-02-14 10:44:22.871] [vde] [info] [gRPC Search] Collection: materials
[2026-02-14 10:44:22.871] [vde] [info] [gRPC Search] Query dim: 3072
[2026-02-14 10:44:22.871] [vde] [info] [gRPC Search] top_k: 3
[2026-02-14 10:44:22.871] [vde] [info] [gRPC Search] =====================================
[2026-02-14 10:44:22.871] [vde] [info] [VDE C++ API] === FIRST SEARCH CALL ===
[2026-02-14 10:44:22.871] [vde] [info] [VDE C++ API] Query dim: 3072
[2026-02-14 10:44:22.871] [vde] [info] [VDE C++ API] top_k: 3
[2026-02-14 10:44:22.871] [vde] [info] [VDE C++ API] ================================
[2026-02-14 10:44:22.871] [vde] [info] [VDECollection::SearchWithoutPredicateFilter] === FIRST SEARCH ===
[2026-02-14 10:44:22.871] [vde] [info] [VDECollection::SearchWithoutPredicateFilter] Collection: materials
[2026-02-14 10:44:22.871] [vde] [info] [VDECollection::SearchWithoutPredicateFilter] Query dim: 3072, expected: 3072
[2026-02-14 10:44:22.871] [vde] [info] [VDECollection::SearchWithoutPredicateFilter] top_k: 3
[2026-02-14 10:44:22.871] [vde] [info] [VDECollection::SearchWithoutPredicateFilter] Normalize: L2-MKL-Advanced
[2026-02-14 10:44:22.871] [vde] [info] [VDECollection::SearchWithoutPredicateFilter] ========================================
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] === FIRST SEARCH - HNSW Parameters ===
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] Index ntotal: 1
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] Storage ntotal: 1
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] Query top_k: 3
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] efSearch: 64 (configured: 64)
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] efConstruction: 200
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] max_level: 0
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] levels.size(): 1
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] entry_point: 0
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] M (neighbors at level 1): 32
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] Storage exists: true, own_fields: true
[2026-02-14 10:44:22.871] [vde] [info] [FaissDriver::Search] ============================================
[2026-02-15 06:55:27.171] [vde] [info] VDE Engine shutting down...
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::~VDECollection] Destroying collection 'materials'
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::~VDECollection] Save Snapshot before we destroy the collection
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::SaveSnapshot] Saving snapshot for collection 'materials'
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::SaveSnapshot] Snapshot files will be saved to:
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::SaveSnapshot]   - metadata: /data/materials/metadata.json
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::SaveSnapshot]   - id_mappings: /data/materials/id_mappings.zst
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::SaveSnapshot]   - index_snapshot: /data/materials/index.snapshot
[2026-02-15 06:55:27.172] [vde] [info] [VDECollection::SaveMetadata] Saving metadata for collection 'materials' to: /data/materials/metadata.json
[2026-02-15 06:55:27.182] [vde] [info] [VDECollection::SaveMetadata] Metadata saved to /data/materials/metadata.json (storage_type=StorageType::MEM, index_driver_type=IndexDriverType::FAISS)
[2026-02-15 06:55:27.182] [vde] [info] [CompressString] String size: 1863 bytes
[2026-02-15 06:55:27.189] [vde] [info] [CompressString] Compression Level: 3, Compressed Size: 721 bytes
[2026-02-15 06:55:27.190] [vde] [info] [VDECollection::SaveSnapshot] ID mappings saved to /data/materials/id_mappings.zst (26 mappings)
[2026-02-15 06:55:27.190] [vde] [info] [FaissDriver::Serialize] index_ address: 128992497636592
[2026-02-15 06:55:27.190] [vde] [info] [FaissDriver::Serialize] Serializing FAISS index to: /data/materials/index.snapshot
[2026-02-15 06:55:27.191] [vde] [info] [FaissDriver::Serialize] Index stats: ntotal=26, id_map_size=26, deleted_ids=0
[2026-02-15 06:55:27.191] [vde] [info] [FaissDriver::Serialize] Index info: is_trained=true, own_fields=true, metric_type=0
[2026-02-15 06:55:27.191] [vde] [info] [FaissDriver::Serialize] HNSW params: efConstruction=200, efSearch=64, max_level=1
[2026-02-15 06:55:27.191] [vde] [info] [FaissDriver::Serialize] HNSW stats: levels.size()=26, cum_nneighbor_per_level.size()=9
[2026-02-15 06:55:27.192] [vde] [info] [FaissDriver::Serialize] Storage index: ntotal=26, is_trained=true, d=3072
[2026-02-15 06:55:27.192] [vde] [info] [FaissDriver::Serialize] Directory already exists: /data/materials
[2026-02-15 06:55:27.192] [vde] [info] [FaissDriver::Serialize] Calling faiss::write_index...
[2026-02-15 06:55:27.207] [vde] [info] [FaissDriver::Serialize] FAISS index written successfully (full index with storage)
[2026-02-15 06:55:27.208] [vde] [info] [FaissDriver::Serialize] Index file size: 0.31 MB (skip_storage=false)
[2026-02-15 06:55:27.208] [vde] [info] [FaissDriver::Serialize] Metadata written successfully to /data/materials/index.snapshot.meta
[2026-02-15 06:55:27.208] [vde] [info] [FaissDriver::Serialize] Serialization completed successfully
[2026-02-15 06:55:27.208] [vde] [info] [VDECollection::SaveSnapshot] Index snapshot saved to /data/materials/index.snapshot
[2026-02-15 06:55:27.208] [vde] [info] [VDECollection::SaveSnapshot] Snapshot saved successfully for collection 'materials'
[2026-02-15 06:55:27.208] [vde] [info] [VDECollection::~VDECollection] Save Snapshot completed.
[2026-02-15 06:55:27.208] [vde] [info] [VDECollection::~VDECollection] Releasing storage driver
[2026-02-15 06:55:27.208] [vde] [info] [MemDriver::Close] Closing in-memory storage
[2026-02-15 06:55:27.212] [vde] [info] [MemDriver::Close] In-memory storage closed successfully
[2026-02-15 06:55:27.213] [vde] [info] [VDECollection::~VDECollection] Releasing index driver (FAISS index will be freed)
[2026-02-15 06:55:27.213] [vde] [info] [FaissDriver::~FaissDriver] Releasing FAISS index with 26 vectors
[2026-02-15 06:55:27.213] [vde] [info] [FaissDriver::~FaissDriver] FAISS index memory released
[2026-02-15 06:55:27.213] [vde] [info] [VDECollection::~VDECollection] Collection 'materials' destroyed successfully
[2026-02-15 06:55:27.213] [vde] [info] VDE Engine destroyed
[2026-02-15 06:55:27.307] [vde] [info] Data store deinitialization succeeded
